<!DOCTYPE html>
<html>
    <head>
        <meta charset = "UTF-8">
        <title>CABbAGE</title>
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">
    </head>

    <body class='container-fluid mt-1'>
        <main>
            <h1>Hello CABbAGE</h1>
            <p>Start listening to AI generated sleep magic</p>
            <form onsubmit="submitForm(event)">
                <label for="channels">Topic</label>
                <select name="channels" id="channels">
                    <option value="science">Science and Tech</option>
                    <option value="zen">Nature and Zen</option>
                    <option value="sports">Sports</option>
                </select>
                <label for="time_length">Seconds</label>
                <input type="text" id="time_length" name="time_length" placeholder="120" value="120" required>
                <button type="submit" id="submit" value="Submit">Start Listening</button>
            </form>
            <script>
              // include the ipc module to communicate with main process.
              const ipcRenderer = require('electron').ipcRenderer;

              function submitForm(event){
                event.preventDefault();
                let channel = document.getElementById("channels").value;
                let time = document.getElementById("time_length").value;
                ipcRenderer.send("form-submit", channel, time);
                document.getElementById("submit").innerHTML = "Loading..."
              }

            </script>
        </main>
    </body>
</html>
